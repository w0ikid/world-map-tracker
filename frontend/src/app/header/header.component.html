<header class="world-map-header">
  <div class="container nav-container">
      <div class="logo">
          <div style="width: 40px; height: 40px; border-radius: 50%; background: linear-gradient(45deg, #4CAF50, #64B5F6); display: flex; justify-content: center; align-items: center;">
              <span>üåé</span>
          </div>
          <a routerLink="/about"> <span>World Map Tracker</span>
          </a>
      </div>

      <nav class="desktop-menu">
          <ul>
              <li><a routerLink="/worldmap" routerLinkActive="active">–ö–∞—Ä—Ç–∞</a></li>
              <!-- <li><a routerLink="/trips" routerLinkActive="active">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</a></li> -->
              <li><a routerLink="/statistics" routerLinkActive="active">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
          </ul>
      </nav>

    <div class="user-search" *ngIf="isLoggedIn">
        <input
          type="text"
          [(ngModel)]="searchUsername"
          (keyup.enter)="navigateToUser()"
          placeholder="–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." >
        <button (click)="navigateToUser()">–ü–µ—Ä–µ–π—Ç–∏</button>
    </div>

      <div class="auth-area">
          <div class="auth-buttons" *ngIf="!isLoggedIn">
              <a routerLink="/login" class="auth-btn login-btn">–í–æ–π—Ç–∏</a>
              <a routerLink="/register" class="auth-btn register-btn">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          </div>

          <div class="user-dropdown" *ngIf="isLoggedIn">
              <div class="user-avatar">{{ userData?.username ? userData.username.charAt(0) : '?' }}</div>
              <div class="dropdown-menu">
                  <ul>
                      <li><a routerLink="/profile">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                      <!-- <li><a routerLink="/settings">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li> <li class="dropdown-divider"></li> -->
                      <li><a href="javascript:void(0)" (click)="logout()">–í—ã–π—Ç–∏</a></li>
                  </ul>
              </div>
          </div>
      </div>


      <button class="mobile-menu-button" (click)="toggleMenu()">‚ò∞</button>

      <div class="mobile-menu" [class.active]="isMenuOpen">
          <button class="close-menu-btn" (click)="toggleMenu()">‚úï</button>
          <nav>
            <ul>
                <li><a routerLink="/worldmap" routerLinkActive="active">–ö–∞—Ä—Ç–∞</a></li>
                <li><a routerLink="/trips" routerLinkActive="active">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</a></li>
                <li><a routerLink="/statistics" routerLinkActive="active">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a></li>
            </ul>
          </nav>
          <div class="user-search mobile-user-search" *ngIf="isLoggedIn">
            <input
              type="text"
              [(ngModel)]="searchUsername"
              (keyup.enter)="navigateToUser(); toggleMenu()"
              placeholder="–ù–∞–π—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è..." >
            <button (click)="navigateToUser(); toggleMenu()">–ü–µ—Ä–µ–π—Ç–∏</button>
        </div> 
          <div class="auth-buttons mobile-auth-buttons" *ngIf="!isLoggedIn">
              <a routerLink="/login" class="auth-btn login-btn" (click)="toggleMenu()">–í–æ–π—Ç–∏</a>
              <a routerLink="/register" class="auth-btn register-btn" (click)="toggleMenu()">–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</a>
          </div>

          <div class="user-dropdown mobile-user-dropdown" *ngIf="isLoggedIn">
               <div class="user-avatar">{{ userData?.username ? userData.username.charAt(0) : '?' }}</div>
                <div class="dropdown-menu">
                  <ul>
                      <li><a routerLink="/profile" (click)="toggleMenu()">–ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a></li>
                      <li><a routerLink="/settings" (click)="toggleMenu()">–ù–∞—Å—Ç—Ä–æ–π–∫–∏</a></li>
                      <li class="dropdown-divider"></li>
                      <li><a href="javascript:void(0)" (click)="logout(); toggleMenu()">–í—ã–π—Ç–∏</a></li>
                  </ul>
              </div>
          </div>
      </div>
  </div>
</header>